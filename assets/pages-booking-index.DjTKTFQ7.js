import{_ as e,j as a,s as t,c as s,w as i,i as c,r as n,o as l,a as o,d as r,F as p,e as d,n as u,g as m,t as f,b as v,k as h,f as k,l as g}from"./index-C5Ut3jgQ.js";import{A as _}from"./AppHeader.BfcNUU4p.js";import{S as b}from"./ServiceList.D_B3Jdio.js";const C=e({name:"BookingPage",components:{AppHeader:_,ServiceList:b},data:()=>({activeTab:0,tabs:["快速预约","我的预约"],activeAppointmentTab:0,appointmentTabs:["进行中","已完成","已取消"],popularServices:[{name:"深层清洁护理",duration:"60分钟",price:398,image:null},{name:"黄金焕肤疗程",duration:"90分钟",price:698,image:null},{name:"水光针注射",duration:"45分钟",price:1280,image:null}],recommendedTherapists:[{name:"李美容师",specialty:"高级美容顾问 · 8年经验",rating:4.5,reviewCount:128,avatar:null},{name:"张医生",specialty:"医学美容专家 · 12年经验",rating:5,reviewCount:256,avatar:null}],appointments:[{date:"2023年4月18日 17:00",status:"confirmed",service:"黄金焕肤疗程",price:598,therapist:"李美容师 · 高级美容顾问"},{date:"2023年4月20日 14:30",status:"confirmed",service:"精致日式美甲",price:358,therapist:"王美甲师 · 日式美甲专家"}]}),computed:{filteredAppointments(){const e={0:["confirmed","pending"],1:["completed"],2:["cancelled"]};return this.appointments.filter(a=>e[this.activeAppointmentTab].includes(a.status))}},methods:{handleHeaderIconClick(e){console.log("Header icon clicked:",e)},switchTab(e){this.activeTab=e},switchAppointmentTab(e){this.activeAppointmentTab=e},handleServiceClick({service:e,index:t}){console.log("Service clicked:",e,t),a({url:`/pages/service/detail?id=${t}`})},handleTherapistClick(e,t){console.log("Therapist clicked:",e,t),a({url:`/pages/booking/therapist?therapistId=${t}`})},getStatusText:e=>({confirmed:"已确认",pending:"待确认",completed:"已完成",cancelled:"已取消"}[e]||e),getActionText:e=>({confirmed:"查看详情",pending:"立即支付",completed:"查看详情",cancelled:"重新预约"}[e]||"查看详情"),handleAction(e,a,t){switch(console.log("Action clicked:",e,a,t),e){case"contact":this.contactCustomerService();break;case"detail":this.viewAppointmentDetail(a,t)}},contactCustomerService(){t({title:"联系客服",content:"是否拨打客服电话？",success:e=>{e.confirm&&console.log("Calling customer service")}})},viewAppointmentDetail(e,t){a({url:`/pages/appointments/detail?id=${t}`})}}},[["render",function(e,a,t,_,b,C){const T=n("AppHeader"),A=c,y=n("ServiceList"),S=h,w=k,x=g;return l(),s(A,{class:"booking-page"},{default:i(()=>[o(T,{title:"预约",icons:["fas fa-search"],onIconClick:C.handleHeaderIconClick},null,8,["onIconClick"]),o(A,{class:"page-content"},{default:i(()=>[o(A,{class:"booking-tabs"},{default:i(()=>[(l(!0),r(p,null,d(b.tabs,(e,a)=>(l(),s(A,{key:a,class:u(["tab-item",{active:b.activeTab===a}]),onClick:e=>C.switchTab(a)},{default:i(()=>[m(f(e),1)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(A,{class:"booking-content"},{default:i(()=>[0===b.activeTab?(l(),s(A,{key:0,class:"quick-booking"},{default:i(()=>[o(A,{class:"section-title"},{default:i(()=>[m("热门服务")]),_:1}),o(y,{services:b.popularServices,onServiceClick:C.handleServiceClick},null,8,["services","onServiceClick"]),o(A,{class:"section-title"},{default:i(()=>[m("推荐美容师")]),_:1}),o(A,{class:"therapist-list"},{default:i(()=>[(l(!0),r(p,null,d(b.recommendedTherapists,(e,a)=>(l(),s(A,{key:a,class:"therapist-card",onClick:t=>C.handleTherapistClick(e,a)},{default:i(()=>[o(A,{class:"therapist-avatar"},{default:i(()=>[e.avatar?(l(),s(S,{key:0,src:e.avatar,class:"avatar-img"},null,8,["src"])):(l(),s(A,{key:1,class:"avatar-placeholder"}))]),_:2},1024),o(A,{class:"therapist-info"},{default:i(()=>[o(w,{class:"therapist-name"},{default:i(()=>[m(f(e.name),1)]),_:2},1024),o(w,{class:"therapist-specialty"},{default:i(()=>[m(f(e.specialty),1)]),_:2},1024),o(A,{class:"rating"},{default:i(()=>[(l(),r(p,null,d(5,a=>o(w,{key:a,class:u(["star-icon",a<=e.rating?"fas fa-star":"far fa-star"])},null,8,["class"])),64)),o(w,{class:"rating-count"},{default:i(()=>[m("("+f(e.reviewCount)+")",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):v("",!0),1===b.activeTab?(l(),s(A,{key:1,class:"my-appointments"},{default:i(()=>[o(A,{class:"appointment-tabs"},{default:i(()=>[(l(!0),r(p,null,d(b.appointmentTabs,(e,a)=>(l(),s(A,{key:a,class:u(["appointment-tab",{active:b.activeAppointmentTab===a}]),onClick:e=>C.switchAppointmentTab(a)},{default:i(()=>[m(f(e),1)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(A,{class:"appointments-list"},{default:i(()=>[(l(!0),r(p,null,d(C.filteredAppointments,(e,a)=>(l(),s(A,{key:a,class:"appointment-card"},{default:i(()=>[o(A,{class:"appointment-header"},{default:i(()=>[o(w,{class:"appointment-date"},{default:i(()=>[m(f(e.date),1)]),_:2},1024),o(w,{class:u(["appointment-status",`status-${e.status}`])},{default:i(()=>[m(f(C.getStatusText(e.status)),1)]),_:2},1032,["class"])]),_:2},1024),o(A,{class:"appointment-details"},{default:i(()=>[o(w,{class:"appointment-service"},{default:i(()=>[m(f(e.service),1)]),_:2},1024),o(w,{class:"appointment-price"},{default:i(()=>[m("¥"+f(e.price),1)]),_:2},1024)]),_:2},1024),o(A,{class:"appointment-therapist"},{default:i(()=>[o(A,{class:"therapist-avatar"}),o(w,{class:"therapist-name"},{default:i(()=>[m(f(e.therapist),1)]),_:2},1024)]),_:2},1024),o(A,{class:"appointment-actions"},{default:i(()=>[o(x,{class:"action-btn",onClick:t=>C.handleAction("contact",e,a)},{default:i(()=>[m(" 联系客服 ")]),_:2},1032,["onClick"]),o(x,{class:"action-btn primary",onClick:t=>C.handleAction("detail",e,a)},{default:i(()=>[m(f(C.getActionText(e.status)),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-89ef9fa6"]]);export{C as default};
