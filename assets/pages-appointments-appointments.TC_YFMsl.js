import{_ as t,c as e,w as a,j as s,s as c,i,r as n,o as l,a as o,d as p,F as d,e as r,n as u,g as m,t as f,f as h,l as _}from"./index-C5Ut3jgQ.js";import{A as v}from"./AppHeader.BfcNUU4p.js";const g=t({name:"AppointmentsPage",components:{AppHeader:v},data:()=>({activeTab:0,tabs:["进行中","已完成","已取消"],appointments:[{date:"2023年4月18日 17:00",status:"confirmed",service:"黄金焕肤疗程",price:598,therapist:"李美容师 · 高级美容顾问"},{date:"2023年4月20日 14:30",status:"confirmed",service:"精致日式美甲",price:358,therapist:"王美甲师 · 日式美甲专家"},{date:"2023年4月22日 11:00",status:"pending",service:"水光针注射",price:1280,therapist:"张医生 · 医学美容专家"},{date:"2023年4月15日 10:00",status:"completed",service:"深层清洁护理",price:398,therapist:"陈护理师 · 皮肤管理专家"},{date:"2023年4月12日 15:30",status:"cancelled",service:"头皮护理SPA",price:458,therapist:"刘造型师 · 发型设计总监"}]}),computed:{filteredAppointments(){const t={0:["confirmed","pending"],1:["completed"],2:["cancelled"]};return this.appointments.filter(e=>t[this.activeTab].includes(e.status))}},methods:{handleHeaderIconClick(t){console.log("Header icon clicked:",t)},switchTab(t){this.activeTab=t},getStatusText:t=>({confirmed:"已确认",pending:"待确认",completed:"已完成",cancelled:"已取消"}[t]||t),getActionText:t=>({confirmed:"查看详情",pending:"立即支付",completed:"查看详情",cancelled:"重新预约"}[t]||"查看详情"),handleAction(t,e,a){switch(console.log("Action clicked:",t,e,a),t){case"contact":this.contactCustomerService();break;case"detail":this.viewAppointmentDetail(e,a)}},contactCustomerService(){c({title:"联系客服",content:"是否拨打客服电话？",success:t=>{t.confirm&&console.log("Calling customer service")}})},viewAppointmentDetail(t,e){s({url:`/pages/appointments/detail?id=${e}`})}}},[["render",function(t,s,c,v,g,A){const k=n("AppHeader"),b=i,C=h,T=_;return l(),e(b,{class:"appointments-page"},{default:a(()=>[o(k,{title:"我的预约",icons:["fas fa-filter"],onIconClick:A.handleHeaderIconClick},null,8,["onIconClick"]),o(b,{class:"page-content"},{default:a(()=>[o(b,{class:"tab-bar"},{default:a(()=>[(l(!0),p(d,null,r(g.tabs,(t,s)=>(l(),e(b,{key:s,class:u(["tab-item",{active:g.activeTab===s}]),onClick:t=>A.switchTab(s)},{default:a(()=>[m(f(t),1)]),_:2},1032,["class","onClick"]))),128))]),_:1}),o(b,{class:"appointments-list"},{default:a(()=>[(l(!0),p(d,null,r(A.filteredAppointments,(t,s)=>(l(),e(b,{key:s,class:"appointment-card"},{default:a(()=>[o(b,{class:"appointment-header"},{default:a(()=>[o(C,{class:"appointment-date"},{default:a(()=>[m(f(t.date),1)]),_:2},1024),o(C,{class:u(["appointment-status",`status-${t.status}`])},{default:a(()=>[m(f(A.getStatusText(t.status)),1)]),_:2},1032,["class"])]),_:2},1024),o(b,{class:"appointment-details"},{default:a(()=>[o(C,{class:"appointment-service"},{default:a(()=>[m(f(t.service),1)]),_:2},1024),o(C,{class:"appointment-price"},{default:a(()=>[m("¥"+f(t.price),1)]),_:2},1024)]),_:2},1024),o(b,{class:"appointment-therapist"},{default:a(()=>[o(b,{class:"therapist-avatar"}),o(C,{class:"therapist-name"},{default:a(()=>[m(f(t.therapist),1)]),_:2},1024)]),_:2},1024),o(b,{class:"appointment-actions"},{default:a(()=>[o(T,{class:"action-btn",onClick:e=>A.handleAction("contact",t,s)},{default:a(()=>[m(" 联系客服 ")]),_:2},1032,["onClick"]),o(T,{class:"action-btn primary",onClick:e=>A.handleAction("detail",t,s)},{default:a(()=>[m(f(A.getActionText(t.status)),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-df9d7d11"]]);export{g as default};
